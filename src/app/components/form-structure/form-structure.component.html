<!-- form-structure.component.html -->

<!-- ðŸ”¹ Xintra Card Wrapper -->
<div class="card border border-defaultborder rounded-xl shadow-sm bg-white dark:bg-bodybg p-4 builder-container "   >
  <div class="card-header flex flex-wrap items-center justify-between gap-3 px-2 py-3 border-b border-defaultborder">
    <h2 class="text-base font-semibold text-defaulttextcolor">Form Builder</h2>

    <!-- ðŸ§© Field Buttons moved here -->
    <div class="flex gap-2">
      <button class="btn btn-outline-primary btn-sm" (click)="addField('text')">Text Field</button>
      <button class="btn btn-outline-primary btn-sm" (click)="addField('dropdown')">Dropdown</button>
      <button class="btn btn-outline-primary btn-sm" (click)="addField('checkbox')">Checkbox</button>
    </div>

    <button class="btn btn-outline-danger btn-sm" type="button" (click)="clearCanvas()">Clear Canvas</button>
  </div>

  <div class="card-body p-4">
    <!-- ðŸ”¸ Canvas Area -->
    <div class="canvas border border-defaultborder rounded-lg p-4 bg-bodybg2 dark:bg-bodybg">
      <h3 class="text-sm font-semibold text-defaulttextcolor mb-3">Canvas Area</h3>

      <div *ngIf="!droppedFields.length" class="italic text-mutedtextcolor">
        No fields added yet. Click a field type above to add one.
      </div>

      <div *ngFor="let field of droppedFields" class="canvas-field mb-4">
        <label class="block text-sm font-medium mb-2 text-defaulttextcolor">
          {{ field.label }}
        </label>

        <ng-container [ngSwitch]="field.type">
          <input *ngSwitchCase="'text'" type="text" placeholder="Enter text" class="form-input w-full" />
          <select *ngSwitchCase="'dropdown'" class="form-select w-full">
            <option *ngFor="let opt of field.options">{{ opt }}</option>
          </select>
          <div *ngSwitchCase="'checkbox'" class="flex items-center gap-2">
            <input type="checkbox" class="form-checkbox" />
            <span>Check me</span>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>
